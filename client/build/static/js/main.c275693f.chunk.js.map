{"version":3,"sources":["api/ProductsApi.js","api/UserApi.js","api/CategoriesApi.js","GlobalState.js","components/headers/icons/menu.svg","components/headers/icons/close.svg","components/headers/icons/cart.svg","components/headers/Header.js","components/mainpages/utils/BtnRender.js","components/mainpages/utils/ProductItem.js","components/mainpages/utils/Loading.js","components/mainpages/products/Filters.js","components/mainpages/products/LoadMorProducts.js","components/mainpages/products/Products.js","components/mainpages/detailproducts/DetailProduct.js","components/mainpages/cart/Cart.js","components/mainpages/auth/Register.js","components/mainpages/auth/Login.js","components/mainpages/utils/Notfound.js","components/mainpages/history/OrderHistory.js","components/mainpages/history/DetailHistory.js","components/mainpages/categories/Categories.js","components/mainpages/createProducts/CreateProduct.js","components/mainpages/Pages.js","App.js","index.js"],"names":["ProductsApi","props","_useState","useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","callBack","setCallBack","_useState5","_useState6","category","setCategory","_useState7","_useState8","sort","setSort","_useState9","_useState10","search","setSearch","_useState11","_useState12","page","setPage","_useState13","_useState14","result","setResult","useEffect","getProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","axios","get","concat","sent","console","log","data","stop","apply","arguments","UserApi","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","history","setHistory","callback","setCallback","getUser","headers","Authorization","role","t0","alert","response","msg","getHistory","_ref2","_callee2","_res","_context2","addCart","_ref3","_callee3","product","_context3","abrupt","every","item","_id","_toConsumableArray","_objectSpread","qty","patch","_x","CategoriesApi","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","firstLogin","localStorage","getItem","accesstoken","state","productsApi","userApi","categoriesApi","_jsx","Provider","value","Header","useContext","menu","setMenu","logoutUser","clear","window","location","href","styleMenu","left","_jsxs","className","onClick","src","Menu","alt","width","Link","to","style","_Fragment","Close","length","Cart","BtnRender","deleteProduct","id","images","public_id","ProductItem","type","checked","onChange","e","url","title","price","description","Loading","Filters","_state$productsApi$ca","_state$productsApi$so","_state$productsApi$se","name","target","map","placeholder","toLowerCase","LoadMorProducts","_state$productsApi$pa","Products","_state$productsApi$pr","loading","setLoading","isCheck","setIsCheck","post","delete","_x2","forEach","DetailProduct","params","useParams","detailProduct","setDetailProduct","content","sold","_state$userApi$cart","total","setTotal","_state$userApi$callba","totala","reduce","getTotal","addToCart","textAlign","fontSize","confirm","index","splice","Register","email","password","user","setUser","onChangeInput","_e$target","_defineProperty","registerSubmit","preventDefault","setItem","onSubmit","required","autoComplete","Login","loginSubmit","Notfound","OrderHistory","items","paymentID","Date","createdAt","toLocaleDateString","DetailHistory","orderDetails","setOrderDetails","address","recipient_name","line1","city","postal_code","country_code","margin","Categories","_state$categoriesApi$2","onEdit","setOnEdit","setID","createCategory","put","editCat","_x3","deleteCat","_x4","htmlFor","cat","initialState","product_id","CreateProduct","setProduct","setImages","useHistory","styleUpload","display","handleUpload","file","formData","files","size","FormData","append","removeImage","onchangeInput","handleSubmit","push","disabled","rows","Pages","Switch","Route","exact","path","component","App","Router","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c275693f.chunk.js","sourcesContent":["import {useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction ProductsApi(props) {\n    const [products, setProducts] = useState([])\n    const [callBack, setCallBack ] = useState(false);\n    //filtering\n    const [category, setCategory] = useState('');\n    const [sort, setSort] = useState(\" \");\n    const [search, setSearch] = useState(\" \");\n    const [page, setPage] = useState(1);\n    const [result, setResult] = useState(\" \");\n\n\n    useEffect(()=>{\n\n    const getProducts = async() =>{\n        const res = await axios.get(`https://my-ecom-services.onrender.com/api/products?limit=${page*9}&${category}&${sort}&title[regex]=${search}`)\n        console.log(res)\n        // console.log(res.data.products);\n        setProducts(res.data.products);\n        // console.log(res)\n        setResult(res.data.result)\n    }\n        getProducts()\n    }, [callBack, page, category, sort, search])\n\n    return {\n\n        products: [products, setProducts],\n        callBack: [callBack, setCallBack ],\n        category: [category, setCategory],\n        sort:  [sort, setSort],\n        page: [page, setPage],\n        search: [search, setSearch],\n        result: [result, setResult]\n    };\n}\n\nexport default ProductsApi;","import axios from 'axios';\nimport {useState, useEffect} from 'react';\n\nfunction UserApi(token) {\n    const [isLogged, setIsLogged] = useState(false);\n    const [isAdmin, setIsAdmin] = useState(false);\n    const [cart, setCart] = useState([])\n    const [history, setHistory] = useState([])\n    const [callback, setCallback] = useState(false)\n\n    useEffect(()=>{\n\n        if(token){\n            const getUser = async() =>{\n\n                try {\n                    const res = await axios.get('https://my-ecom-services.onrender.com/user/info', {\n                        headers: {Authorization: token}\n                    })\n                        setIsLogged(true)\n                        res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false)\n                        // console.log(res);\n \n                        setCart(res.data.cart)\n\n                } catch (err) {\n                    alert(err.response.data.msg)\n                }\n\n            }\n            getUser();\n        };\n        \n    }, [token]);\n\n\nuseEffect(()=>{\n    if(token){\n        const getHistory = async() =>{\n            if(isAdmin){\n                const res = await axios.get('https://my-ecom-services.onrender.com/api/payment', {\n                    headers: {Authorization: token}\n                })\n                setHistory(res.data)\n            }else{\n\n                const res = await axios.get('https://my-ecom-services.onrender.com/user/history', {\n                    headers:{Authorization: token}\n                })\n                // console.log(res)\n                setHistory(res.data)\n            }\n        }\n       getHistory()\n    }\n},[token, callback, isAdmin])\n\n\n    const addCart = async(product) =>{\n        if(!isLogged) return alert(\"Please login to continue...\")\n\n        const check = cart.every(item =>{\n            return item._id !== product._id\n        })\n\n        if(check){\n            setCart([...cart, {...product, qty: 1}])\n\n            await axios.patch('https://my-ecom-services.onrender.com/user/addcart', {cart: [...cart, {...product, qty: 1}]}, {\n                headers: {Authorization: token}\n            })\n        }else{\n            alert(\"Product has been add to cart\")\n        }\n    }\n\n    return (\n        {\n            //HERE we are passing it to the otherfiles..\n            isLogged:[isLogged, setIsLogged],\n            isAdmin:[isAdmin, setIsAdmin],\n            cart: [cart, setCart],\n            history: [history, setHistory],\n            callback: [callback, setCallback],\n\n            addCart: addCart //this is HERE bcz of, WE ARE CALLING IT OnClick IN THE BtnRender.js so it does not \n                            //execute without click\n        \n        });\n}\n\nexport default UserApi;","import {useState, useEffect} from 'react';\nimport axios from 'axios';\n\nfunction CategoriesApi() {\n    const [categories, setCategories] = useState([])\n    const [callBack, setCallBack] = useState(false)\n\n    useEffect(()=>{\n        \n            const getCategories  = async() =>{\n                const res = await axios.get('https://my-ecom-services.onrender.com/api/category')\n                // console.log(res)\n                setCategories(res.data)\n            }  \n            getCategories()\n        \n        \n    }, [callBack])\n\n    return ({\n       categories: [categories, setCategories],\n       callBack: [callBack, setCallBack]\n    });\n}\n\nexport default CategoriesApi;","import React,{createContext, useState, useEffect} from \"react\";\nimport axios from 'axios';\nimport ProductsApi from \"./api/ProductsApi\";\nimport UserApi from \"./api/UserApi\";\nimport CategoriesApi from \"./api/CategoriesApi\";\n\nexport const GlobalState = createContext();\n\nexport const DataProvider = ({children}) =>{\n\n    const [token, setToken] = useState(false)\n\n    // const refreshToken = async () =>{\n    //     const res = await axios.get('https://my-ecom-services.onrender.com/user/refresh_token')\n    //     // console.log(res);\n    //     setToken(res.data.accesstoken)\n    // }\n\n    useEffect(()=>{\n        const firstLogin = localStorage.getItem('firstLogin')\n        const accesstoken = localStorage.getItem('accesstoken')\n        if(firstLogin){\n            setToken(accesstoken)\n        }\n    }, [])\n\n    const state = {\n        token: [token, setToken],\n        productsApi:ProductsApi() ,\n        userApi: UserApi(token),\n        categoriesApi: CategoriesApi(token)\n    }\n    \n\n    return(\n        <GlobalState.Provider value = {state}>\n            {children}\n        </GlobalState.Provider>\n    )\n}","export default __webpack_public_path__ + \"static/media/menu.e8db7520.svg\";","export default __webpack_public_path__ + \"static/media/close.ea7c95d7.svg\";","export default __webpack_public_path__ + \"static/media/cart.d146d6c3.svg\";","import React, {useState, useContext } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n//components import\nimport { GlobalState } from '../../GlobalState';\n//icons import\nimport Menu from './icons/menu.svg';\nimport Close from './icons/close.svg';\nimport Cart from './icons/cart.svg';\n\nfunction Header(props) {\n    const state = useContext(GlobalState)\n    // console.log(state)\n\n    // const [isLogged, setIsLogged] = state.userApi.isLogged\n    // const [isAdmin, setIsAdmin] = state.userApi.isAdmin\n    // const [cart, setCart] = state.userApi.cart\n                //OR\n        const [isLogged] = state.userApi.isLogged\n        const [isAdmin] = state.userApi.isAdmin\n        const [cart] = state.userApi.cart\n\n        const [menu, setMenu] = useState(false)\n\n    const logoutUser = async() =>{\n        await axios.get('https://my-ecom-services.onrender.com/user/logout')\n        localStorage.clear()\n        // setIsAdmin(false)\n        // setIsLogged(false)\n        // setCart([])\n            //OR\n      window.location.href = \"/\";\n    }\n\n    const adminRouter = () =>{\n        return(\n            <>\n            <li><Link to = '/create_product'>Create Product</Link></li>\n            <li><Link to = '/category'>Categories</Link></li>\n            </>\n        )\n    };\n\n    const loggedRouter = () =>{\n        return(\n            <>\n            <li><Link to = '/history'>History</Link></li>\n            <li><Link to = '/' onClick={logoutUser}>Logout</Link></li>\n            </>\n        )\n    };\n\n    const styleMenu = {\n        left: menu ? 0 : \"-100%\"\n    }\n    const toggleMenu = () => {\n        setMenu(!menu)\n    }\n\n    return (\n        <header>\n            <div className='menu' onClick = {() => setMenu(!menu)}>\n                <img src={Menu} alt=\"\" width=\"30\"/>\n            </div>\n\n            <div className='logo'>\n                <h1>\n                    <Link to='/'>{isAdmin ? 'Admin' : 'fashion Destiny'}</Link>\n                </h1>\n            </div>\n\n            <ul style={styleMenu}>\n                <li><Link to='/'>{isAdmin ? 'Products' : 'Shop'}</Link></li>\n\n                {isAdmin && adminRouter()}\n                {\n                    isLogged ? loggedRouter() : <li><Link to='/login'>Login or Register</Link></li>\n                }\n\n                <li onClick = {() => setMenu(!menu)}>\n                    <img src={Close} alt='' width=\"30\" className='menu' />\n                </li>\n            </ul>\n\n                {\n                    isAdmin ? ''\n                     :  <div className='cart-icon'>\n                    <span>{cart.length}</span>\n                    <Link to='/cart'>\n                    <img src={Cart} alt=\"\" width=\"30\"/>\n                    </Link>\n                </div>\n                }\n           \n        </header>\n    );\n}\n\nexport default Header;","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { GlobalState } from '../../../GlobalState';\n\n\nfunction BtnRender({product, deleteProduct}) {\n    const state = useContext(GlobalState);\n    const [isAdmin] = state.userApi.isAdmin\n    const addCart = state.userApi.addCart\n   \n\n   \n\n    return (\n        <>\n        <div className='row_btn'>\n            {\n                isAdmin ?\n                <>\n                <Link id='btn-buy' to='#!' onClick={() => deleteProduct(product._id, product.images.public_id)}>\n                Delete\n            </Link>\n            <Link id='btn-view' to={`/update_product/${product._id}`}>\n                Update\n            </Link>\n            </> :\n             <> <Link id='btn-buy' to='#!' onClick={()=> addCart(product)}>\n                    Buy\n                </Link>\n                <Link id='btn-view' to={`/detail/${product._id}`}>\n                    View\n                </Link>\n                </>\n            }\n                \n\n            </div>\n            </>\n    );\n}\n\nexport default BtnRender;","import React from 'react';\nimport BtnRender from './BtnRender';\n\n\n\nfunction ProductItem({product,products, setProducts, isAdmin, deleteProduct}) {\n    \n\n\n        const handleChecked = (e) =>{\n           product.checked= !product.checked\n           setProducts([...products])\n        }\n\n\n    return (\n        <>   \n        <div className='product_card'>\n\n            { isAdmin && <input type=\"checkbox\" checked ={product.checked} \n             onChange={handleChecked}/> }\n\n            <img src={product.images.url} alt=\"\" />\n\n            <div className=\"product_box\">\n                <h2 title={product.title}> {product.title}</h2>\n                <span>${product.price}</span>\n                <p>{product.description}</p>\n            </div> \n\n            <BtnRender product={product} deleteProduct={deleteProduct} />\n         \n\n         </div>\n        \n        </>\n    );\n}\n\nexport default ProductItem;","import React from 'react';\nimport './loading.css';\n\nfunction Loading(props) {\n    return (\n        <div className=\"load-page\">\n            <div className=\"loader\">\n                <div>\n                    <div>\n                        <div>\n                            <div>\n                                <div>\n                                    <div>\n                                        <div>\n                                            <div></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Loading;","import React, {useContext} from 'react';\nimport { GlobalState } from '../../../GlobalState';\n\nfunction Filters(props) {\n    const state = useContext(GlobalState)\n    const [categories] = state.categoriesApi.categories\n    const [category, setCategory] = state.productsApi.category;\n    const [sort, setSort] = state.productsApi.sort;\n    const [search, setSearch] = state.productsApi.search;\n\n\n    const handleCtategry = (e) =>{\n        setSearch(\" \")\n        setCategory(e.target.value)\n    }\n    return (\n        <div className=\"filter_menu\">\n            <div className=\"row\">\n                <span>Filters: </span>\n                <select name=\"category\" value={category} onChange={handleCtategry}>\n                    <option value=\"\">All Products</option>\n                    {\n                        categories.map(category => (\n                            <option value={\"category=\" + category._id} key={category._id}>\n                                {category.name}\n                            </option>\n                        ))\n                    }\n\n                </select>\n            </div>\n\n            <input type=\"search\" name={search} placeholder=\"Search\"\n            onChange={ (e) => setSearch(e.target.value.toLowerCase())} />\n\n            <div className=\"row sort\">\n                <span>Sort By: </span>\n                <select name=\"sort\" value={sort} onChange={ e => setSort(e.target.value)}>\n                    <option value=\"\">Newest</option>\n                    <option value=\"sort=oldest\">oldest</option>\n                    <option value=\"sort=-sold\">Best Sales</option>\n                    <option value=\"sort=-price\">Price: High-Low</option>\n                    <option value=\"sort=price\">Price: Low-High</option>\n                   \n\n                </select>\n            </div>\n\n        </div>\n    );\n}\n\nexport default Filters;","import React, {useContext} from 'react';\nimport { GlobalState } from '../../../GlobalState';\n\nfunction LoadMorProducts(props) {\n    const state  = useContext(GlobalState);\n    const [page, setPage] = state.productsApi.page;\n    const [result] = state.productsApi.result\n    return (\n        <div className=\"load_more\">\n            {\n                result < page * 9 ? \"\"\n                : <button onClick={()=> setPage(page+1)}>Load More</button>\n            }\n            \n        </div>\n    );\n}\n\nexport default LoadMorProducts;","import React, {useContext, useState} from 'react';\nimport { GlobalState } from '../../../GlobalState';\nimport ProductItem from '../utils/ProductItem';\nimport Loading from '../utils/Loading';\nimport axios from 'axios';\nimport Filters from './Filters';\nimport LoadMorProducts from './LoadMorProducts';\n\n\nfunction Products(){\n    const state = useContext(GlobalState)\n    // console.log(state);\n    const [products,  setProducts] = state.productsApi.products\n    const [isAdmin] = state.userApi.isAdmin\n    // console.log(products)\n    const [token] = state.token\n    const [loading, setLoading] = useState(false);\n    const [callBack, setCallBack] = state.productsApi.callBack\n    const [isCheck, setIsCheck] = useState(false);\n    \n\n    const deleteProduct = async(id, public_id) =>{\n        // console.log({id, public_id})\n        try {\n            setLoading(true)\n            if(isAdmin){\n            await axios.post('https://my-ecom-services.onrender.com/api/destroy', {public_id}, {\n                headers: { Authorization: token}\n            }) \n        \n            await axios.delete(`https://my-ecom-services.onrender.com/api/products/${id}`, {\n                headers: { Authorization: token}\n            })\n            \n            setCallBack(!callBack)\n        }  \n        setLoading(false)\n        setIsCheck(false)\n            \n        } catch (err) {\n            alert(err.response.msg)\n        }\n              }         \n\n\n    const selectAll = () =>{\n        \n        products.forEach(product => {\n            \n            product.checked = !isCheck\n        })\n        setProducts([...products])\n        setIsCheck(!isCheck)\n    }\n\n\n    const deleteAll = () =>{\n        products.forEach(product => {\n            if(product.checked) deleteProduct(product._id, product.images.public_id)\n            \n        })\n    }\n\n\n    if(loading) return <div><Loading/></div>\n\n    return(\n        <>\n            <Filters/>\n        {\n            isAdmin && \n            <div className=\"delete-all\">\n                <span>Select All</span>\n                <input type=\"checkbox\" checked={isCheck} onChange={selectAll} />\n                <button onClick={deleteAll}>Delete All</button>\n            </div>\n        }\n           \n\n        <div className=\"products\">\n            {\n                products.map(product => {\n                    return  <ProductItem key={product._id} product={product} \n                    isAdmin={isAdmin} products={products} setProducts={setProducts}\n                    deleteProduct={deleteProduct} />\n                             \n                       \n                })\n            }\n        </div>\n        <LoadMorProducts/>\n       { products.length === 0 && <Loading/> }\n\n        </>\n    )\n}\n\nexport default Products;","import React, {useContext, useState, useEffect} from 'react';\nimport {useParams, Link} from 'react-router-dom';\nimport {GlobalState} from '../../../GlobalState';\nimport ProductItem from '../utils/ProductItem';\n\nfunction DetailProduct(props) {\n    const params = useParams()\n    const state = useContext(GlobalState);\n    const [products] = state.productsApi.products;\n    const addCart = state.userApi.addCart;\n    const [detailProduct, setDetailProduct] = useState([])\n\n    useEffect(()=>{\n        if(params.id){\n            products.forEach(product => {\n                if(product._id === params.id) setDetailProduct(product)\n            });\n        }\n    }, [params.id, products])   \n\n    // console.log(params)\n    // console.log(detailProduct);\n\n\n    if(detailProduct.length === 0) return null;\n   \n    \n    return (\n        <>\n    \n        <div className=\"detail\">\n            <img src={detailProduct.images.url} alt='' />\n            <div className=\"box-detail\">\n                <div className = \"row\">\n                    <h2>{detailProduct.title}</h2>\n                </div>\n                <span>${detailProduct.price}</span>\n                <p>{detailProduct.description}</p>\n                <p>{detailProduct.content}</p>\n                <p>Sold: {detailProduct.sold}</p>\n                <Link to='/cart' className=\"cart\" onClick={()=> addCart(detailProduct)}>Buy Now</Link>\n            </div>\n        </div>\n\n        <div>\n            <h2>Related products</h2>\n            <div className='products'>\n                {\n                    products.map(product => {\n                        return product.category === detailProduct.category\n                        ? <ProductItem key={product._id} product={product}/>: null\n                    })\n                }\n            </div>\n        </div>\n  </>\n     )\n    \n    \n}\n\nexport default DetailProduct;","import React, {useContext, useEffect, useState} from 'react';\nimport { GlobalState } from '../../../GlobalState';\n// import { Link } from 'react-router-dom';\nimport axios from 'axios';\n// import PayPalButton from './PayPalButton';\n\nfunction Cart(props) {\n    const state = useContext(GlobalState);\n    const [cart, setCart] = state.userApi.cart;\n    const[isLogged] = state.userApi.isLogged;\n    const [total, setTotal] = useState(0);\n    const [token] = state.token\n\n    const [callback, setCallback] = state.userApi.callback\n    const [callBack, setCallBack ] = state.productsApi.callBack\n\n\n    useEffect(()=>{\n        const getTotal = () =>{\n            const totala = cart.reduce((prev, item)=>{\n                return prev + (item.price * item.qty)\n            }, 0)\n            setTotal(totala)\n        }\n        getTotal()\n    }, [cart]);\n\n    const addToCart = async(cart) =>{\n        await axios.patch('https://my-ecom-services.onrender.com/user/addcart', {cart}, {\n            headers: {Authorization: token}\n        })\n    };\n\n    const increament = (id) => {\n        cart.forEach(item=>{\n            if(item._id === id){\n                item.qty += 1\n            }\n        })\n        setCart([...cart])\n        addToCart(cart)\n    };\n    const decreament = (id) =>{\n        cart.forEach(item=>{\n            if(item._id === id){\n                item.qty === 1 ? item.qty = 1 : item.qty -=1\n            }\n        })\n        setCart([...cart])\n        addToCart(cart)\n    };\n\n    const removeProduct = id =>{\n        if(window.confirm(\"Do you really wants to remove this product\")){\n            cart.forEach((item, index)=>{\n                if(item._id === id){\n                    cart.splice(index, 1)\n                }\n            })\n        }\n        setCart([...cart])\n        addToCart(cart)\n    };\n\n\n\n    //for payment\n    const tranSuccess = async(payment) =>{\n        const {paymentID, address} = payment;\n        console.log(payment)\n\n        await axios.post('https://my-ecom-services.onrender.com/api/payment', {cart, paymentID, address}, {\n            headers: {Authorization : token}\n        })\n\n        alert(\"Your order has been successfully placed\")\n        setCart([])\n        addToCart([])\n        setCallback(!callback)\n        setCallBack(!callBack)\n    }\n\n    \n    if(!isLogged) return  <h2 style={{textAlign:\"center\" , fontSize:\"5rem\"}}> please login</h2>\n   \n    if(cart.length === 0) \n    return <h2 style={{textAlign:\"center\" , fontSize:\"5rem\"}}> Empty Cart</h2>\n   \n\n    return (\n        <div>\n            {\n                cart.map(product=>(\n\n                    <div className=\"detail cart\" key = {product._id}>\n\n                             <img src={product.images.url} alt='' className=\"img_container\"/>\n\n                         <div className=\"box-detail\">\n                                    <h2>{product.title}</h2>\n                                     <h3>${product.price * product.qty}</h3>\n                                         <p>{product.description}</p>\n                                         <p>{product.content}</p>\n\n                                                <div className=\"amount\">\n                                                    <button onClick={()=> decreament(product._id)}> - </button>\n                                                    <span>{product.qty}</span>\n                                                    <button onClick={()=> increament(product._id)}> + </button>\n                                                </div>\n                        \n                                     <div onClick={()=> removeProduct(product._id)} className=\"delete\">X</div>\n\n                    </div>\n                </div>\n\n                ))\n          }\n                        <div className=\"total\">\n                            <h3>Total: $ {total}</h3>\n                           {/* <PayPalButton \n                           total={total}\n                           tranSuccess={tranSuccess}/> */}\n                        </div>\n        </div>\n    );\n}\n\nexport default Cart;","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Register(props) {\n    const [user, setUser] = useState({\n        name:\"\",\n        email:\"\",\n        password:\"\"\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]: value})\n    }\n    // console.log(user)\n\n    const registerSubmit = async(e) =>{\n        e.preventDefault()\n        try {\n           const res = await axios.post('https://my-ecom-services.onrender.com/user/register', {...user})\n\n            localStorage.setItem('firstLogin', true)\n            localStorage.setItem('accesstoken', res.data.accesstoken)\n            window.location.href = \"/\";\n\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={registerSubmit}>\n                <h2>Register</h2>\n                <input type=\"text\" name=\"name\" required \n                placeholder = \"Name\" value={user.name} onChange={onChangeInput}/>\n                <input type=\"email\" name=\"email\" required \n                placeholder = \"Email\" value={user.email} onChange={onChangeInput}/>\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder = \"Password\" value={user.password} onChange={onChangeInput}/>\n                \n                <div className=\"row\">\n                        <button type=\"submit\">Register</button>\n                        <Link to = '/login'>Login</Link>\n                </div>\n            </form>\n\n        </div>\n    );\n}\n\n\nexport default Register;","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Login(props) {\n    const [user, setUser] = useState({\n        email:\"\",\n        password:\"\"\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]: value})\n    }\n    // console.log(user)\n\n    const loginSubmit = async(e) =>{\n        e.preventDefault()\n        try {\n            const res =  await axios.post('https://my-ecom-services.onrender.com/user/login', {...user})\n              console.log(res, \"resp\")\n              localStorage.setItem('firstLogin', true)\n              localStorage.setItem('accesstoken', res.data.accesstoken)\n  \n              window.location.href = \"/\";\n  \n          } catch (err) {\n              alert(err.response.data.msg)\n          }\n    }\n\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={loginSubmit}>\n                <h2>Login</h2>\n                <input type=\"email\" name=\"email\" required \n                placeholder = \"Email\" value={user.email} onChange={onChangeInput}/>\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder = \"Password\" value={user.password} onChange={onChangeInput}/>\n                \n                <div className=\"row\">\n                        <button type=\"submit\">Login</button>\n                        <Link to = '/register'>Register</Link>\n                </div>\n            </form>\n\n        </div>\n    );\n}\n\n\nexport default Login;","import React from 'react';\n\nfunction Notfound(props) {\n    return (\n        <div>\n            404 || Not Found\n        </div>\n    );\n}\n\nexport default Notfound;","import React, { useContext } from 'react';\nimport { GlobalState } from '../../../GlobalState';\nimport {Link} from 'react-router-dom';\n\nfunction OrderHistory(props) {\n    const state  = useContext(GlobalState);\n    const [history] = state.userApi.history;\n    return (\n        <div className=\"history-page\">\n            <h2>History</h2>\n\n            <h4>You have {history.length} Ordered</h4>\n\n            <div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Payment ID</th>\n                            <th>Date of Purchased</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            history.map(items => (\n                                <tr key={items._id}>\n                                    <td>{items.paymentID}</td>\n                                    <td>{new Date(items.createdAt).toLocaleDateString()}</td>\n                                    <td><Link to ={`/history/${items._id}`}>View</Link></td>\n                                </tr>\n                            ))\n                        }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\n\nexport default OrderHistory;","import React, {useContext, useState, useEffect} from 'react';\nimport {useParams} from 'react-router-dom';\nimport { GlobalState } from '../../../GlobalState';\n\nfunction DetailHistory(props) {\n    const state  = useContext(GlobalState);\n    const [history] = state.userApi.history;\n    const [orderDetails, setOrderDetails ] = useState([]);\n\n    const params = useParams()\n\n    useEffect(()=>{\n        if(params){\n            history.forEach(item =>{\n                if(item._id === params.id) setOrderDetails(item)\n            })\n        }\n    },[params, history])\n    console.log(orderDetails)\n\n    if(orderDetails.length === 0) return null;\n    return (\n        <div className=\"history-page\">\n\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Address</th>\n                            <th>Postal Code</th>\n                            <th>Country Code</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                       <tr>\n                           <td>{orderDetails.address.recipient_name}</td>\n                           <td>{orderDetails.address.line1 + \"-\" + orderDetails.address.city}</td>\n                           <td>{orderDetails.address.postal_code}</td>\n                           <td>{orderDetails.address.country_code}</td>\n                       </tr>\n                    </tbody>\n                </table>\n\n                <table style = {{margin: \"30px 0px\"}}>\n                    <thead>\n                        <tr>\n                            <th></th>\n                            <th>Products</th>\n                            <th>Qty</th>\n                            <th>Price</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                            {\n                                orderDetails.cart.map(item =>(\n                                    <tr key={item._id}>\n                                        <td><img src={item.images.url} alt=\"\" /></td>\n                                        <td>{item.title}</td>\n                                        <td>{item.qty}</td>\n                                        <td>$ {item.price * item.qty}</td>\n                                    </tr>\n                                        \n                                ))\n                            }\n                    </tbody>\n                </table>\n            \n        </div>\n    );\n}\n\nexport default DetailHistory;","import React,{useState, useContext} from 'react';\nimport { GlobalState } from '../../../GlobalState';\nimport axios from 'axios';\n\nfunction Categories(props) {\n    const state = useContext(GlobalState);\n    const[categories] = state.categoriesApi.categories\n    const [category, setCategory] = useState('')\n    const [token] = state.token\n    const [callBack, setCallBack] = state.categoriesApi.callBack\n    const [onEdit, setOnEdit] = useState(false);\n    const [id, setID] = useState('');\n\n    const createCategory = async(e) =>{\n        e.preventDefault()\n         \n        try {\n            if(onEdit){\n                const res = await axios.put(`https://my-ecom-services.onrender.com/api/category/${id}`, {name: category}, {\n                    headers: {Authorization: token} \n                })\n                alert(res.data.msg)\n            }else{\n\n                const res = await axios.post('https://my-ecom-services.onrender.com/api/category', {name: category}, {\n                    headers: {Authorization: token}\n                })\n                // console.log(res)\n                alert(res.data.msg)\n            }\n            setOnEdit(false)\n            setCallBack(!callBack)\n            setCategory('')\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    };\n\n    const editCat = async(id, name) =>{\n        setID(id)\n        setCategory(name)\n        setOnEdit(true)\n    }\n\n    const deleteCat = async(id) =>{\n        if(window.confirm(\"Please confirm before delete\")){\n\n        try {\n            const res = await axios.delete(`https://my-ecom-services.onrender.com/api/category/${id}`, {\n                headers: {Authorization: token}\n            })\n            alert(res.data.msg)\n            setCallBack(!callBack)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }}\n\n   \n    return (\n        <div className= 'categories'>\n            <form onSubmit={createCategory}>\n                <label htmlFor=\"category\">Category</label>\n                <input type=\"text\" name=\"category\" value ={category} required\n                onChange={e => setCategory(e.target.value)} />\n\n                <button className='sub_btn' type=\"submit\">{onEdit ? \"Update\" : \"Save\"}</button>\n            </form>\n\n            <div className=\"col\">\n                {\n                    categories.map(cat =>(\n                        <div className=\"row\" key={cat._id}>\n                            <p>{cat.name}</p>\n                            <button onClick={ ()=> editCat(cat._id, cat.name)}>Edit</button>\n                            <button onClick={ ()=> deleteCat(cat._id)}>Delete</button>\n\n                        </div>\n                    ))\n                }\n            </div>\n            \n        </div>\n    );\n}\n\nexport default Categories;","import React,{useContext, useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { GlobalState } from '../../../GlobalState';\nimport Loading from '../utils/Loading';\nimport {useHistory, useParams} from 'react-router-dom'\n\nconst initialState ={\n    product_id: \"\",\n    title: \"\",\n    price:\"\",\n    description:\"this row description we are setting are u understanding or not\",\n    content: \"this is content\",\n    category: \"\" ,\n    _id:\"\"\n}\n\n\n\nfunction CreateProduct(props) {\n    const state = useContext(GlobalState);\n    const [isAdmin] = state.userApi.isAdmin\n    const [token] = state.token\n    const [categories] = state.categoriesApi.categories\n    const [callBack, setCallBack ] = state.productsApi.callBack\n\n    const [product, setProduct] = useState(initialState)\n    const [images, setImages] = useState(false)\n    const [loading, setLoading] = useState(false)\n\n    const history = useHistory()\n    const params = useParams()\n\n    const [onEdit, setOnEdit] = useState(false)\n    const [products] = state.productsApi.products\n\n    useEffect(()=>{\n        if(!isAdmin) return alert('This is only Admin access')\n        if(params.id){\n            setOnEdit(true)\n            products.forEach(product =>{\n                if(product._id === params.id) {\n                setProduct(product)\n                setImages(product.images)\n                  }   \n            })\n           \n        }else{\n            setOnEdit(false)\n            setProduct(initialState)\n            setImages(false)\n        }\n    }, [params.id,isAdmin, products])\n\n\n    const styleUpload = {\n        display: images ? \"block\" : \"none\"\n    }\n\n    \n    const handleUpload = async(e) =>{\n        e.preventDefault()\n        try {\n            if(!isAdmin) return alert('This is only Admin access')\n            const file = e.target.files[0] \n            // console.log(file)\n            if(!file) return alert('file does not exist')\n            if(file.size > 1024 * 1024) return alert('file size is too large')\n\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png') \n                    return alert('file formet is incorrect')\n\n            let formData  = new FormData()\n            formData.append('file', file)\n\n                setLoading(true)\n            const res  = await axios.post('https://my-ecom-services.onrender.com/api/upload', formData, {\n                headers: {'content-type': 'multipart/form-data', Authorization: token}\n            })    \n\n            // console.log(res)\n            setLoading(false)\n            setImages(res.data)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const removeImage = async () =>{\n        try {\n            if(!isAdmin) return alert('This is only Admin access')\n            setLoading(true)\n            await axios.post('https://my-ecom-services.onrender.com/api/destroy', {public_id: images.public_id }, {\n                headers: { Authorization: token}\n            })\n                setLoading(false)\n                setImages(false)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n    \n    const onchangeInput = e =>{\n        const {name, value} = e.target\n        setProduct({...product, [name]: value})\n        // console.log(product)\n    }\n\n    const handleSubmit = async(e) =>{\n        e.preventDefault()\n        try {\n            if(!isAdmin) return alert('This is only Admin access')\n            if(!images) return alert('No image is slected')\n\n            if(onEdit){\n                await axios.put(`https://my-ecom-services.onrender.com/api/products/${product._id}`, {...product, images}, {\n                    headers: { Authorization: token}\n                })\n\n            }else{\n                await axios.post('https://my-ecom-services.onrender.com/api/products', {...product, images}, {\n                    headers: { Authorization: token}\n                })\n            }\n            setImages(false)\n            setProduct(initialState)\n            setCallBack(!callBack)\n            history.push(\"/\")\n\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n\n\n    return (\n        <div className=\"margin\">\n        <div className=\"create_product\">\n            <div className=\"upload\">\n                <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload}/>\n                {\n                    loading ? <div className=\"file_img\"><Loading/></div>\n\n                   : <div className=\"file_img\" style={styleUpload}>\n                    <img src={images ? images.url : \"\"} alt=\"\"/>\n                    <span onClick={removeImage}>X</span>\n                </div>\n                }\n                \n            </div>\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"row\">\n                    <label htmlFor=\"product_id\">Product ID</label>\n                    <input type=\"text\" name=\"product_id\" id=\"product_id\" required \n                    value={product.product_id} onChange={ (e)=> onchangeInput(e)} disabled={onEdit}/>\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"title\">Title</label>\n                    <input type=\"text\" name=\"title\" id=\"title\" required\n                     value={product.title} onChange={ (e)=> onchangeInput(e)} />\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"price\">Price</label>\n                    <input type=\"number\" name=\"price\" id=\"price\" required\n                     value={product.price} onChange={ (e)=> onchangeInput(e)}/>\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"description\">Description</label>\n                    <textarea type=\"text\" name=\"description\" id=\"description\" required\n                     value={product.description} rows=\"5\" onChange={ (e)=> onchangeInput(e)}/>\n                </div>\n\n                \n                <div className=\"row\">\n                    <label htmlFor=\"content\">Content</label>\n                    <textarea type=\"text\" name=\"content\" id=\"content\" required \n                    value={product.content} rows=\"/\" onChange={(e)=> onchangeInput(e)}/>\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"categories\">Categories</label>\n                    <select name=\"category\" id=\"category\"\n                     value={product.category} onChange={ (e)=> onchangeInput(e)}>\n\n                        <option value=\"\">Please select a category</option>\n                        {\n                            categories.map(category =>(\n                                <option value={category._id} key={category._id} >\n                                    {category.name}\n                                </option>\n                            ))\n                        }\n                    </select>\n                </div>\n                <button type=\"submit\">{onEdit ? \"Update\" : \"Create\"}</button>\n                \n            </form>\n            \n        </div>\n        </div>\n\n        \n    );\n}\n\nexport default CreateProduct;","import React,{useContext} from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport Products from './products/Products';\nimport DetailProduct from './detailproducts/DetailProduct';\nimport Cart from './cart/Cart';\nimport Register from './auth/Register';\nimport Login from './auth/Login';\nimport Notfound from './utils/Notfound';\nimport OrderHistory from './history/OrderHistory';\nimport DetailHistory from './history/DetailHistory';\nimport Categories from './categories/Categories';\nimport CreateProduct from './createProducts/CreateProduct';\nimport { GlobalState } from '../../GlobalState';\n\nfunction Pages(props) {\n    const state = useContext(GlobalState);\n    const [isLogged] = state.userApi.isLogged;\n    const [isAdmin] = state.userApi.isAdmin;\n    return (\n       <Switch>\n           <Route exact path='/' component={Products}  />\n           <Route exact path='/detail/:id' component={DetailProduct}  />\n           <Route exact path='/login' component={isLogged ? Notfound : Login}  />\n           <Route exact path='/register' component={isLogged ? Notfound : Register}  />\n           <Route exact path='/history' component={isLogged ? OrderHistory : Notfound }  />\n           <Route exact path='/history/:id' component={isLogged ? DetailHistory : Notfound }  />\n\n           <Route exact path='/category' component={isAdmin ? Categories : Notfound }  />\n           <Route exact path='/create_product' component={isAdmin ? CreateProduct : Notfound }  />\n           <Route exact path='/update_product/:id' component={isAdmin ? CreateProduct : Notfound }  />\n\n           <Route exact path='/cart' component={Cart}  />\n           <Route exact path='*' component={Notfound}  />\n           \n       </Switch>\n    );\n}\n\nexport default Pages;","import React from \"react\";\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport { DataProvider } from \"./GlobalState\";\nimport Header from './components/headers/Header';\nimport Pages from './components/mainpages/Pages'; \n\nfunction App() {\n  return (\n    <DataProvider>\n      <Router>\n             <div className=\"App\">\n                <Header/>\n                <Pages/>\n             </div>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  \n    <App />,\n \n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}